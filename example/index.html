<html>

<body>
<button onclick="start()">Start</button>

<script src="../dist/index.js"></script>
<script type="module">
    import * as Bla from "../dist";

    console.log("createMyAudioProcessorNode", createMyAudioProcessorNode)

    async function start() {
        const audioContext = new AudioContext();
        await audioContext.resume();
        console.log("Started audio context");
        console.log("Registered my-audio-processor");
        await audioContext.audioWorklet.addModule("../public/worklets/my-audio-processor.js");
        const node = new AudioWorkletNode(audioContext, "my-audio-processor");
        console.log("Registered my-audio-processor as AudioWorkletNode");
    }
</script>
</body>
</html>